# Multi-tier archetypes to characterise British landscapes, farmland and farming practices: Supporting Information

- Purpose: Data-driven machine learning to create landscape and agricultural management archetypes at 1 km resolution, enabling interpretation and exploration of British landscapes and farming practices for GIS-based map visualisation and analysis.

## Archetype tiers and aims
- Tier 1: Broad landscape differences across Great Britain; modifiable only over long timeframes (10–100 years). Focuses on soil, land cover, and population.
- Tier 2: Nuanced variations within farmland-dominated areas; some influence by land managers; intermediate timeframes (1–10 years). Includes farmed-landscape variables and land management context.
- Tier 3: National-level contrasts for England and Wales; emphasizes socioeconomic and agro-ecological farm management characteristics; shorter-term management differences. Scotland is not represented due to data gaps.

## Output structure
- Four multi-band raster files (two bands per raster):
  - Tier 1 and Tier 2: one GB-wide raster
  - Tier 3: one England-wide and one Wales-wide raster
  - Each raster contains:
    - Archetype ID for each 1 km cell
    - Euclidean distance to the archetype (fit/description)
- Four accompanying CSV files with:
  - Loadings of input variables per archetype
  - Shorthand names for archetypes

## Data, resolution, and processing
- Spatial scale: All input variables processed at 1 km² resolution (aligned with available data and average farm size in England).
- Grid reference: Governmental OS grid cells with >75% terrestrial land cover.
- Tools: ArcGIS v10.6 and R used for processing and analyses.

## Input variables and data types
- Land cover and geo-physical variables (cover types, climate, soils, moisture, topography, and landscape structure)
  - Land cover: nine aggregated classes (percent cover per class)
  - Climate: mean temperature and precipitation (2006–2015 daily estimates)
  - Soils: pH, sand, silt, clay, organic carbon
  - Soil moisture and relative dryness (G2G hydrological model-based)
  - Landscape structure: Aggregation Index for each land-cover type (only for 10–70% cover ranges)
  - Elevation, slope (mean and SD)
  - Water courses, woody linear features; inter-field hedges within 4 m of field edges
- Socio-economic variables
  - Population density (2011 census)
  - Road accessibility: distance to major/minor roads (Tier 1)
  - Protected-area coverage (Tier 2): natural protected areas and Scheduled Monuments
  - Ten high-level variables from the Sustainable Intensification Dynamic Typology Tool (based on Farm Business Survey) and rescaled to 1 km²
- Farm and field spatial characteristics
  - Farm and field boundaries from countryside stewardship and related schemes (England and Wales; Glastir for Wales)
  - Farm size and Spread Index (via Kriging interpolation and a minimum convex polygon measure)
  - Field shape index (perimeter-to-square-area ratio)
- Crop and livestock cover
  - Crops and livestock data from Land Cover plus (LCC) and Agricultural Census
  - Crop diversity metrics: mean patch area, patch isolation, edge contrast, subdivision, diversity, evenness, etc. (computed over five years)
  - Edge Contrast Index (functional traits-based, weighted by crop-patch perimeters)
  - Isolation (mean nearest-neighbor distance) and other patch metrics
  - Livestock counts (horses, cattle, dairy/beef, pigs, poultry, sheep) and crop areas (by type and year)

## Self-Organising Map (SOM) methodology
- Purpose: Clustering and dimensionality reduction to define archetypes.
- Approach: Kohonen SOMs implemented in R (Kohonen package)
  - Input: Normalised data (mean-centered, scaled by SD)
  - Handling missing data: Cells with missing data for all but one variable still clustered (missing data do not bias clustering)
  - Grid setup: Parallel batch training, 500 passes
- Determining archetype count and configuration:
  - Selection via elbow method on mean distance to archetype centroids
  - Preference for configurations with higher accuracy, consistency, and reproducibility across iterations
- Iterations for stability and certainty:
  - 1000 iterations run with fixed parameters to gauge stability
  - Hierarchical clustering (Ward's method) on node codebooks across iterations to group similar nodes
  - 1:1 mapping: Extract iterations yielding one node per cluster; compute mean codebooks per archetype
  - Cell assignment: Each 1 km cell assigned to the archetype it most frequently maps to across iterations
  - Certainty: Record a certainty metric reflecting consistency of assignment across iterations

## Archetype naming and interpretation
- Names are generated by concatenating the strongest positive and negative variable loadings in each archetype’s codebook, then simplifying to human-readable terms.
- Names are for convenience and do not constitute a full description of archetype characteristics.

## Output interpretation and applications (GIS-focused)
- 1 km grid cells are classified into archetypes with an accompanying distance measure to indicate fit.
- Outputs enable map-based exploration of landscape and farming archetypes across Great Britain (Tier 1–2 GB-wide; Tier 3 for England and Wales).
- Useful for policy analysis, land-management planning, and scenario visualization in GIS contexts.

## Limitations and scope
- Tier 3 archetypes not generated for Scotland due to unavailable input variables.
- Archetypes across tiers are not nested; a Tier 3 archetype may occur within multiple Tier 2 archetypes.
- Output is designed for interpretability and map-based use, with emphasis on broad and nuanced landscape and farming patterns rather than a direct variance model.