# The UKCEH Land Cover Maps for 2017, 2018 and 2019 v1.5.1

## Purpose
- User guide for three new UKCEH Land Cover Maps: LCM2017, LCM2018 and LCM2019.
- Explains content, production decisions, validation, and future plans.
- Aims to help users make informed decisions about applying UKCEH LCM data in current and future work.

## Glossary and Key Terms (Overview)
- Bootstrap Training: automatic sampling of training observations from historic maps to train classifiers.
- Context Raster: 20 m context layers (terrain, proximity) used with spectral data.
- Classification Scene: multi-layer raster combining seasonal spectra with context rasters for classification.
- Seasonal Composite Image: four-season Sentinel-2-derived mosaics representing seasonal reflectance.
- UKCEH Aggregate Land Cover Classes: generalized 10 classes bridging detailed classes.
- UKCEH Land Cover Classes: 21 detailed classes derived from BAP Broad Habitats.
- UKCEH Land Parcel Spatial Framework: polygon grid (approximately 0.5 ha MMU) used to summarize pixels into parcels.

## Introduction and Production Approach
- Builds on UKCEH’s national maps (LCMs from 1990, 2000, 2007, 2015) with 21 UKCEH Land Cover Classes based on BAP Broad Habitats.
- Maps produced automatically using Bootstrap Training plus Random Forest (RF) classifier.
- Sentinel-2 Seasonal Composite Images (TOA reflectance) plus 20 m Context Layers used for Classification Scenes.
- Aims for annual releases to monitor land cover change.
- No manual corrections were performed on the new maps; visual checks and formal validation were conducted (Appendix 4) showing similar quality to LCM2015.
- UKCEH acknowledges terminology conventions and provides a glossary.

## Dataset Structure and Coverage
- For each year (2017–2019), 42 datasets were released, duplicated for Great Britain (GB) and Northern Ireland (NI).
- Dataset families:
  - 20 m Classified Pixels (GB and NI)
  - Land Parcels (GB and NI)
  - 25 m Rasterised Land Parcels (GB and NI)
  - 1 km Percent Cover (GB and NI)
  - 1 km Percent Aggregate Cover (GB and NI)
  - 1 km Dominant Cover (GB and NI)
  - 1 km Dominant Aggregate Cover (GB and NI)

## Datasets in Detail

- 20 m Classified Pixels
  - New in LCM2017–2019: RF classification results from 20 m Sentinel-2 classification scenes.
  - Output: 2-band 8-bit rasters; Band 1 = most-likely class; Band 2 = confidence (0–100) for Band 1.
  - Not generalised by the UKCEH Land Parcel Spatial Framework to preserve fine features (narrow patches and lines).

- Land Parcels
  - Generated by intersecting 20 m Classified Pixels with the UKCEH Land Parcel Spatial Framework.
  - Attributes (illustrative): gid (parcel ID), _hist (list of class frequencies per parcel), _mode (dominant class), _purity (percent modal class), _conf (mean per-pixel membership probability), _stdev, _n (number of pixels).
  - Changes since LCM2015: attribute names and minor metadata updated for production; some differences in mapping from previous versions.
  - Note: gid values do not match LCM2015; cross-year parcel comparisons require using gid, not spatial overlap.

- 25 m Rasterised Land Parcels
  - Rasterised from the Land Parcels dataset into 25 m pixels (GB and NI).
  - 3-band raster: band 1 = _mode (dominant class), band 2 = _conf (parcel-averaged confidence), band 3 = _purity (parcel purity).
  - Improvements: 3-band rasterisation provides additional context than the 2-band approach in LCM2015.

- 1 km Raster Products
  - 1 km Percent Cover: 21-band, 8-bit raster giving percentage cover per 1 km grid for each UKCEH Land Cover Class.
  - 1 km Percent Aggregate Cover: 10-band, 8-bit raster giving percentage cover per 1 km for UKCEH Aggregate Classes.
  - 1 km Dominant Cover: single-band 8-bit raster with the dominant UKCEH Land Cover Class per 1 km.
  - 1 km Dominant Aggregate Cover: single-band 8-bit raster with the dominant UKCEH Aggregate Class per 1 km.

## Seasonal Data and Context Information
- Seasonal Composite Images: four-season (winter, spring, summer, autumn) Sentinel-2 TOA reflectance, resampled to 20 m; nine bands used (bands 2,3,4,5,6,7,8,11,12).
- Data gaps: occasional seasonal gaps due to cloud; the RF classifier tolerates partial spectral data; future exploration of Cloud-penetrating data (Sentinel-1) and alternative sources for gap filling.
- Context Rasters (GB): 10 context layers include terrain (Height, Aspect, Slope from NEXTMap), distance-to features (buildings, roads, sea, freshwater), foreshore and tidal water masks, and a woodland mask.
- Context Rasters (NI): similar terrain layers plus urban mask and distance-to-coast, distance-to freshwater and road layers.

## Classification Scenes and Spatial Framework
- Great Britain: 100 km x 100 km tiles used to select 36-band Seasonal Composite Images; combined with 20 m context rasters to produce 46-band GB Classification Scenes; 74 overlapping Classification Scenes classified independently; visual inspection used to resolve overlaps and select best results for final cut.
- Northern Ireland: single 43-band Classification Scene per year (36 spectral + 7 context) determined by the minimum bounding rectangle of NI land mass.
- UK Land Parcel Spatial Framework: unchanged geometry since LCM2015 (0.5 ha MMU); gid differences mean cross-version parcel comparison by spatial overlap is not possible; parcel framework optimized for ~30 m data was updated for efficiency; future refinements anticipated as higher-resolution data become available.

## Bootstrap Training and Random Forest
- Bootstrap Training: fully automatic process that uses historic maps as training data to classify current imagery, enabling rapid map updates without fresh field data.
- For LCM2017–2019, Bootstrap Training used parcels from LCM2015 with high purity (>=99%) to sample training observations.
- Random Forest: 10,000 samples per class drawn with replacement to balance learning; the classifier yields the 20 m Classified Pixels product, then higher-resolution products are derived from this base.
- Software: bespoke production pipeline integrating WEKA (machine learning), PostGIS, and GDAL (open source).

## Validation and Accuracy
- Validation dataset: GB countryside survey data (2019), National Forest Inventory, IACS, plus bespoke LCM validation points (22,325 points total).
- Overall accuracy (GB scale):
  - LCM2017: 78.6%
  - LCM2018: 79.6%
  - LCM2019: 79.4%
- Caveats:
  - Validation points are not an absolute truth; some labels differ from UKCEH classes.
  - Validation dataset currency and class conversions affect comparability.
  - Approximately 80% correspondence is considered impressive for an automatic 21-class map; continued improvements expected.

## Data Availability, Access and Metadata
- Yearly structure: 42 datasets per year, GB and NI versions.
- Coordinate systems: GB = British National Grid (EPSG: 27700); NI = Irish Grid (EPSG: 29903).
- Dataset specifics for each product family (described above) and the 42-dataset set per year are detailed in Appendix 5.

## Governance, Metadata and Stewardship Considerations
- Versioning: v1.5.1 (30/06/2020) with detailed production notes and changes from prior maps.
- Data lineage and reproducibility: Bootstrap Training from LCM2015; RF framework; GB NI tile structure; explicit notes on dataset attribute name changes (e.g., _hist to Pix_dist, purity conventions).
- Cross-year comparability: parcel-based comparisons use gid, not spatial overlap due to parcel ID changes; cross-year analysis requires alignment on gid and awareness of framework changes.
- Open-source tools and provenance: production relies on WEKA, PostGIS, and GDAL; datasets are described with extensive metadata and appendices.
- Class relationships and documentation: Appendix 1–2 explain UKCEH Land Cover Classes and their relationship to BAP Broad Habitats; Appendix 3 provides colour recipes for display; Appendix 4 contains validation confusion matrices.

## Appendices and Dataset Catalog
- Appendix 1–2: Notes on UKCEH Land Cover Classes and Biodiversity Action Plan Broad Habitats.
- Appendix 3: Recommended RGB colour mapping for display of UKCEH Land Cover Classes.
- Appendix 4: Validation confusion matrices and related statistics (LCM2017, LCM2018, LCM2019).
- Appendix 5: Full list of datasets for LCM2017, LCM2018 and LCM2019.