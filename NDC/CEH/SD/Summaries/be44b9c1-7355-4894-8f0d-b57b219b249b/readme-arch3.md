# Fighting force and experience combine to determine contest success in a warlike mammal

## Overview
- A README describing an R-based analysis pipeline used to support the paper “Fighting force and experience combine to determine contest success in a warlike mammal.”
- The repository contains heavily annotated R code designed for reproducibility, plus a data-description document and revision notes.
- If files are missing or bugs are found, the contact is PAG (pagreen@ucsb.edu).

## Data and Data Management
- Data inputs:
  - Pre-imputation data: pre-imputation_igi_winloss_focalonly_wpregnant, pre-imputation_rival_igi_winloss_wpregnant, pre-imputation_group_comp_wpregnant, pre-imputation_rival_group_comp_wpregnant, pre-imputation_rival_group_comp_wpregnant
  - Combined field capture weight data: combined_field_capture_weight_data_wpregnancy
- All inputs are generated by a data generation process described elsewhere in the repository.
- Metadata and documentation:
  - Data provenance and dataset information are provided in data-description.doc.
  - Filenames include indicators of revision status (REVISION) to reflect updates.
- Data governance considerations:
  - Emphasis on reproducibility and traceability through clearly named inputs and revision tags.

## Analysis Pipeline and Modules
- IMPUTATION_ANALYSIS
  - Includes Imputation_Checking_code to verify that the imputation process does not bias group weight data.
  - Includes Imputation_Analysis_Code_FINAL (full imputation and analysis) and Bayesian_Analysis (Bayesian analysis on the same imputed datasets for comparison with maximum likelihood).
  - All analyses rely on the five pre-imputation data files and the two additional pre-imputation datasets listed above, plus the combined field capture weight data.
- OUTPUT_ANALYSIS
  - IGI_OutputAnalyses summarizes outputs from the imputation and analysis steps.
  - Compares Bayesian results to maximum likelihood outputs.
  - Uses multiple output files (mod.names.AICs..., mod.avg.coef.df..., var.imp.df..., FE.rds, ML_model_output).
- FOLLOW_UP_ANALYSES
  - IGI_FollowUpAnalyses_FINAL conducts all follow-up analyses described in the main text.
  - Data inputs include imputed data lists (e.g., combined_igi_list_node1.2_reps1_2000.rds), focal and rival group composition lists, life history data, captures, oestrus, pedigrees, eviction data, and updated life history datasets (life_history vs lifehistory 20210525).

## Reproducibility, Transparency, and Documentation
- Code is heavily annotated to facilitate re-running the analyses.
- Clear modular structure with separate scripts for imputation, outputs, and follow-up analyses.
- Versioning and revision-tracking through filename conventions (e.g., REVISION in filenames).
- Documentation and data descriptions are provided externally (data-description.doc) to aid understanding of datasets.

## Data Access, Quality, and Validation
- Data quality checks are integrated:
  - Imputation_Checking_code ensures imputation does not distort group weight data.
- Validation through comparing Bayesian and ML approaches (Bayesian_Analysis vs. maximum likelihood).
- Transparency about potential issues:
  - Notes about missing or buggy files and a direct contact point for resolution.

## Inputs, Outputs, and Reproducible Workflows
- Structured inputs across pre-imputation datasets and derived data (e.g., group compositions, life history, pedigrees).
- Outputs include model comparisons, coefficient summaries, variable importance, and Bayesian/ML model results.
- Follow-up analyses expand on primary findings with additional life history, eviction, and pedigree data.

## Practical Implications for Monitoring Frameworks
- Demonstrates a disciplined workflow for environmental/health monitoring data:
  - Start with data provenance and metadata (data-description.doc).
  - Implement data quality checks (imputation validation).
  - Use parallel analyses (Bayesian and ML) to test robustness.
  - Maintain rigorous version control and documentation for reproducibility.
  - Clearly separate data inputs, processing steps, and outputs to support governance and auditability.