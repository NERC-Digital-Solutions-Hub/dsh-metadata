# Documentation for model code to simulate animal behaviour in response to light

- Purpose
  - Contains material to reproduce 3D volumetric data describing photon energy density in a simulated environment.
  - Produces heatmaps and journey lengths for ensembles of weighted walkers in these simulated environments.
  - Includes source code snapshots and inputs/configurations for reproducibility.

- What is included
  - Monte Carlo Radiative Transfer (MCRT) solver code (mcrt/aetherus-0.2.0) and supporting library (Aetherus).
  - Weighted random walking code (grid_walker-0.1.0) and its inputs.
  - Input data and configuration files for both codes, plus scripts to reproduce results.
  - Outputs: 3D energy-density data from MCRT; 2D plane extractions, heatmaps, and journey-length statistics from grid_walker.

- Collection / generation methods
  - 1.1 Light Intensity Distributions (LIDs)
    - Photometry for light sources provided in IES or LDT formats.
    - Data sourced from lamp manufacturers, measured with goniophotometry.
  - 1.2 Geometry
    - Terrain and building geometry provided as Wavefront OBJ files.
    - Terrain: generated by sampling height above sea level from Defra National LIDAR Programme 2020 (1 m).
    - Buildings: geometry from Ordnance Survey VectorMap Local, extruded to DSM-derived heights from Defra LIDAR data.
  - 1.3 Spectral Reflectances
    - From USGS Spectral Library v7 (converted to CSV for use).
    - Materials include roads (dark-grey asphalt) and buildings (medium red brick).
  - 1.4 Emission Spectra
    - From LICA-UCM spectral database (converted to JSON for input format).

- Nature and units of recorded values
  - Geometry units: metres (1 unit = 1 m).
  - Emission spectra and spectral reflectances: relative units.
  - Photometric data: luminous intensities in candela.
  - Emission spectra are scaled to match MCRT input requirements.

- Quality control
  - MCRT code accompanied by unit tests to validate components in isolation.
  - Tests include edge and nominal cases; comparisons against analytical predictions for grid_walker.
  - Mesh verification: watertight meshes and correctly oriented vertex normals.

- Details of data structure
  - Deposit consists of four components:
    - Input data for MCRT: configuration files, spectra (.csv), spectral reflectances (JSON), photometric data (.ldt/.ies), geometry (.obj).
    - The MCRT solver (Aetherus 0.2.0) and supporting library, provided as source (.tar.gz) and as Linux/macOS binaries.
    - A snapshot of the grid_walker code (v0.1.0) used for weighted random walks.
    - A scripts directory with automation to reproduce results.
  - Examples of included files and directories:
    - in/grid_walker.template.toml, in/world.json5, in/spec/*.json, in/mats/*.json5
    - in/objs/terrain.obj, in/objs/buildings/*.obj, in/objs/sky.obj
    - Aetherus-0.2.0/* (code, tests, assets)
    - grid_walker-0.1.0/* (Python code, tests, docs)
    - scripts/ (environment.yml, extraction and run scripts)
  - The complete listing demonstrates a structured, versioned setup intended for reproducibility.

- Implications for monitoring frameworks
  - Reproducibility and traceability: explicit versioning of modeling tools (MCRT and grid_walker) and input data promotes auditability.
  - Data provenance: clear lineage from external data sources (LIDAR, USGS Spectral Library, LICA-UCM) to simulation inputs.
  - Metadata and data governance: standardized file types and unit definitions aid metadata completeness; geometry, spectra, and photometry are documented with source references.
  - Access and openness: distribution includes source code, configurations, and scripts, supporting open-use and peer verification; reliance on external datasets is acknowledged through source descriptions.
  - Data quality considerations: integrated quality checks (unit tests, mesh integrity) support confidence in outputs; explicit unit conventions reduce misinterpretation.
  - Transformations and interoperability: multiple data formats (CSV, JSON, IES, LDT, OBJ, MTl) require careful metadata mapping for integration into monitoring dashboards or policy analyses.

- Relevance to policy and decision-making
  - Enables simulation-based assessment of light-energy environments and animal responses, useful for evaluating lighting policies and habitat impact.
  - Provides transparent, repeatable workflows and dashboards potential via the included codebase and data structures.