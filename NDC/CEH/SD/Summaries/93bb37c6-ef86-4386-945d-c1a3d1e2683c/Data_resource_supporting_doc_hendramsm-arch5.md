# Working Title Component model iterations for inputs into a multi-scale model describing the effect of host conditions on Hendra virus shedding, eastern Australia, 2008-2019

## Overview
- Dataset comprising model iteration objects and spatial rasters to run a multi-scale model predicting how host conditions affect Hendra virus shedding in eastern Australia (2008–2019).
- Aims to evaluate whether incorporating host-condition proxies improves space-time predictions of virus shedding.
- 1,000 iterations used to capture uncertainty; linked code and data sources enable replication.

## Data Components and Formats
- Core data objects:
  - FoodShortageModels (R data objects)
  - NewRoostModels (R data objects)
  - RehabModels (R data objects)
  - Roost SDM Iterations (rasters; 14 yearly predictions per iteration)
- Formats:
  - Model outputs: .Rdata
  - Roost SDM: .tif
- Organization and naming conventions:
  - FoodShortageModels: 1,000 files named Iteration_*.Rdata
  - NewRoostModels: 1,000 files named Iteration_*.Rdata
  - RehabModels: 1,000 files named Iteration_*.Rdata
  - RoostSDMIterations: 1,000 folders named Iteration_*/; each contains BatRoostPredictions_YYYY.tif (Y years 2007–2020 across 14 files per folder)

## Spatial and Temporal Coverage
- Spatial resolution: 5 km
- Spatial extent: eastern Australia (roost locations and related predictions)
- Spatial reference: Roost SDM rasters in specified bounds; CRS details provided (GDA2020/SA Lambert, EPSG:8059; WGS84 bounds also given)
- Temporal coverage:
  - Input data training: monthly scales
  - Roost SDM iterations: 1996–2021
  - Food Shortage: 1998–2020
  - Rehab (rehabilitation admissions): 2005–2020
  - New Roosts: 2002–2019
  - Roost predictions per month: 2007–2020

## Input Data and Environmental Features
- Data sources for environmental features include:
  - Australian Gridded Climate Data (AGCD v1)
  - NOAA
  - British Antarctic Survey (BAS)
  - Dynamic Land Cover Dataset (DLCD)
- Variables cover temperature (max/min/difference), precipitation and anomalies, NDVI, soil moisture, vapor pressure, solar exposure, potential evapotranspiration, Oceanic Niño Index (ONI), Southern Annular Mode (SAM), forest/urban/crop/pasture cover, etc.
- Each model uses location-specific, rehab, new-roost, or food-shortage feature sets as noted in Table 1.

## Model Structures and Hyperparameters
- Modeling framework:
  - Roost Distribution Model (roost occupancy) using gbm or similar; specifics include learning rate, max depth, and tree counts
  - Rehab Models (bat admissions to rehabilitation)
  - New Roost Models (probability of new overwintering roosts)
  - Food Shortage Models (probability of food shortage) using XGBoost
- Hyperparameters (examples):
  - Roost SDMIternations: learning rate 0.01, max depth 4, min observations in a node 2, ~200,000 trees
  - RehabModels: learning rate 0.0001, max depth 2, min observations per node 10, ~150,000 trees
  - NewRoostModels: learning rate 0.0001, max depth 2, min observations 2, ~123,533 trees
  - FoodShortageModels: learning rate 0.001, max interaction depth 4, subsample 1, colsample_bytree 0.5, min_child_weight 1, gamma 0.5, ~15,000 trees
- Software stack:
  - R 4.3.2 with gbm and caret; Food Shortage uses XGBoost
- Training data sources (Table 2):
  - Roost Distribution: NFFMP, ARS
  - Bat Rehab: WIRES
  - New overwinter roosts: ARS
  - Food Shortage: NECT
- Data and model provenance:
  - Training data drawn from published/public datasets and study-specific data
  - Input data and features documented in figshare resources and associated literature

## Data Provenance, Access, and Reuse
- Data hosting:
  - Primary datasets and inputs deposited in FigShare
  - Codebase available at GitHub (hanlab-ecol/BatOneHealth) for model execution and analyses
- Cross-references:
  - Links to pre-existing datasets and publications cited (Field et al. 2015; Eby et al. 2022; etc.)
- Reproducibility:
  - Model uncertainty addressed via bootstrap (1,000 resamples per host-condition model)
  - Predictions generated by aggregating 1,000 realizations per month (Jan 2008–Dec 2019) and excluding zero roost-absence cases to avoid bias
- Data governance notes:
  - No explicit embargoes noted; sharing and reuse rely on FigShare and GitHub; dataset includes raw model outputs and supporting code for replication

## Quality Assurance and Evaluation
- Model fit evaluation metric: Area Under the Curve (AUC)
- Quality control emphasizes predictive performance and comparison across eight model structures (seven host-condition structures plus null roost-SDM-only model)
- Documentation and meta-data accompany datasets (Tables 1 and 2; hyperparameters; data sources)

## Governance, Stewardship Considerations
- Data management for large, multi-file outputs requires clear naming conventions and directory structure to maintain traceability across 1,000 iterations
- Ensure provenance and versioning are maintained; linkages between FigShare inputs, Roost SDM rasters, and code in GitHub should be preserved
- Interoperability considerations due to multiple data formats (.Rdata, .tif) and CRS definitions; ensure consistent CRS and spatial resolution across datasets
- Access and licensing: data are distributed publicly via FigShare and GitHub; confirm licenses and usage rights for downstream sharing, attribution, and reuse
- Documentation needs:
  - Clear metadata for each model type (inputs, outputs, temporal/spatial extents)
  - explicit data lineage from raw environmental features to final predictions
  - regular updates or versioning plans if datasets are refreshed or extended

## Key Takeaways for Data Stewards
- This resource comprises a comprehensive, reproducible suite of model iterations and rasters designed to assess how host-condition proxies influence Hendra virus shedding predictions across space and time.
- Governance should emphasize preserving data provenance, reproducibility, and access pathways (FigShare and GitHub), while ensuring clear metadata, standardized formats, and robust version control for ongoing use and potential extension.